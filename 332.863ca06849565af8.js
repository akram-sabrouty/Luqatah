"use strict";(self.webpackChunkemporium=self.webpackChunkemporium||[]).push([[332],{2332:(x,h,s)=>{s.r(h),s.d(h,{ReviewsModule:()=>U,routes:()=>C});var e=s(6019),_=s(697),d=s(9165),m=s(8265),p=s(3327),t=s(3668),f=s(5304),n=s(888),g=s(515),o=s(5694),v=s(9112),A=s(7444),Z=s(3145),T=s(86),w=s(8583);function I(r,c){if(1&r){const a=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(a);const l=t.oxw().$implicit;return t.oxw().unApprove(l)}),t.TgZ(1,"mat-icon"),t._uU(2,"undo"),t.qZA(),t.qZA()}}function b(r,c){if(1&r){const a=t.EpF();t.TgZ(0,"div",11),t.TgZ(1,"div",12),t.TgZ(2,"mat-icon",13),t.ALo(3,"filterById"),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"div",14),t._UZ(6,"img",15),t.qZA(),t.TgZ(7,"div",16),t._uU(8),t.qZA(),t.TgZ(9,"div",16),t._uU(10),t.qZA(),t.TgZ(11,"div",17),t._UZ(12,"app-rating",18),t.qZA(),t.TgZ(13,"div",16),t._uU(14),t.ALo(15,"filterById"),t.qZA(),t.TgZ(16,"div",16),t._uU(17),t.ALo(18,"date"),t.qZA(),t.TgZ(19,"div",16),t.TgZ(20,"div",19),t.YNc(21,I,3,0,"button",20),t.TgZ(22,"button",21),t.NdJ("click",function(){const u=t.CHM(a).$implicit;return t.oxw().remove(u)}),t.TgZ(23,"mat-icon"),t._uU(24,"delete"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&r){const a=c.$implicit,i=t.oxw();let l,u;t.xp6(2),t.Q6J("color",1==a.statusId?"primary":"warn")("matTooltip",null==(l=t.xi3(3,13,i.statuses,a.statusId))?null:l.name),t.xp6(2),t.Oqu(1==a.statusId?"check_circle":"access_time"),t.xp6(2),t.Q6J("src",a.image,t.LSH),t.xp6(2),t.Oqu(a.author),t.xp6(2),t.Oqu(a.comment),t.xp6(2),t.Q6J("ratingsCount",null==a?null:a.ratingsCount)("ratingsValue",null==a?null:a.ratingsValue)("showText",!1)("direction","row"),t.xp6(2),t.Oqu(null==(u=t.xi3(15,16,i.stores,a.storeId))?null:u.name),t.xp6(3),t.Oqu(t.xi3(18,19,a.date,"dd MMMM, yyyy 'at' HH:mm")),t.xp6(4),t.Q6J("ngIf",1==a.statusId)}}function y(r,c){if(1&r){const a=t.EpF();t.TgZ(0,"div",23),t.TgZ(1,"div",24),t.TgZ(2,"mat-card",25),t.TgZ(3,"pagination-controls",26),t.NdJ("pageChange",function(l){return t.CHM(a),t.oxw().onPageChanged(l)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}}const R=function(r,c){return{itemsPerPage:r,currentPage:c}},C=[{path:"",component:(()=>{class r{constructor(a){this.dialog=a,this.reviews=[{id:1,statusId:1,image:"assets/images/profile/michael.jpg",author:"Michael Blair",comment:"lorem ipsum",ratingsCount:4,ratingsValue:350,storeId:1,date:new Date(2020,1,15,14,30)},{id:2,statusId:2,image:"assets/images/profile/tereza.jpg",author:"Tereza Stiles",comment:"lorem ipsum",ratingsCount:3,ratingsValue:290,storeId:2,date:new Date(2020,2,5,22,20)},{id:3,statusId:2,image:"assets/images/profile/adam.jpg",author:"Adam Sandler",comment:"lorem ipsum",ratingsCount:5,ratingsValue:450,storeId:1,date:new Date(2020,3,29,13,15)},{id:4,statusId:1,image:"assets/images/profile/julia.jpg",author:"Julia Aniston",comment:"lorem ipsum",ratingsCount:4,ratingsValue:350,storeId:2,date:new Date(2020,4,12,11,50)},{id:5,statusId:2,image:"assets/images/profile/bruno.jpg",author:"Bruno Vespa",comment:"lorem ipsum",ratingsCount:3,ratingsValue:300,storeId:2,date:new Date(2020,5,5,16,25)},{id:6,statusId:1,image:"assets/images/profile/ashley.jpg",author:"Ashley Ahlberg",comment:"lorem ipsum",ratingsCount:5,ratingsValue:300,storeId:1,date:new Date(2020,6,18,12,30)},{id:7,statusId:1,image:"assets/images/avatars/avatar-5.png",author:"Michelle Ormond",comment:"lorem ipsum",ratingsCount:4,ratingsValue:300,storeId:1,date:new Date(2020,6,28,17,23)}],this.statuses=[{id:1,name:"Approved"},{id:2,name:"Pending"}],this.stores=[{id:1,name:"Store 1"},{id:2,name:"Store 2"}],this.count=6}ngOnInit(){}onPageChanged(a){this.page=a,window.scrollTo(0,0)}unApprove(a){const i=this.reviews.findIndex(l=>l.id==a.id);-1!==i&&(a.statusId=2,this.reviews[i]=a)}remove(a){this.dialog.open(p.$,{maxWidth:"400px",data:{title:"Confirm Action",message:"Are you sure you want remove this review?"}}).afterClosed().subscribe(l=>{if(l){const u=this.reviews.indexOf(a);-1!==u&&this.reviews.splice(u,1)}})}}return r.\u0275fac=function(a){return new(a||r)(t.Y36(f.uw))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-reviews"]],decls:25,vars:8,consts:[[1,"p-1"],[1,"p-0"],["fxLayout","row wrap","fxLayoutAlign","space-between center",1,"w-100","p-2"],[1,"mat-table","admin-table"],[1,"mat-header-row"],[1,"mat-header-cell","status"],[1,"mat-header-cell","image"],[1,"mat-header-cell"],[1,"mat-header-cell","ratings"],["class","mat-row",4,"ngFor","ngForOf"],["fxLayout","row wrap",4,"ngIf"],[1,"mat-row"],[1,"mat-cell","status"],[3,"color","matTooltip"],[1,"mat-cell","image"],["alt","","width","50",3,"src"],[1,"mat-cell"],[1,"mat-cell","ratings"],[3,"ratingsCount","ratingsValue","showText","direction"],[1,"p-1","actions"],["mat-mini-fab","","color","primary","matTooltip","UnApprove",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn","matTooltip","Delete",1,"mx-1",3,"click"],["mat-mini-fab","","color","primary","matTooltip","UnApprove",3,"click"],["fxLayout","row wrap"],["fxFlex","100"],[1,"p-0","text-center"],["autoHide","true","maxSize","5",1,"product-pagination",3,"pageChange"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0),t.TgZ(1,"mat-card",1),t.TgZ(2,"div",2),t.TgZ(3,"h2"),t._uU(4,"Store Reviews"),t.qZA(),t.qZA(),t._UZ(5,"mat-divider"),t.TgZ(6,"div",3),t.TgZ(7,"div",4),t._UZ(8,"div",5),t.TgZ(9,"div",6),t._uU(10,"Image"),t.qZA(),t.TgZ(11,"div",7),t._uU(12,"Author"),t.qZA(),t.TgZ(13,"div",7),t._uU(14,"Comment"),t.qZA(),t.TgZ(15,"div",8),t._uU(16,"Rating"),t.qZA(),t.TgZ(17,"div",7),t._uU(18,"Store"),t.qZA(),t.TgZ(19,"div",7),t._uU(20,"Date"),t.qZA(),t._UZ(21,"div",7),t.qZA(),t.YNc(22,b,25,22,"div",9),t.ALo(23,"paginate"),t.qZA(),t.qZA(),t.YNc(24,y,4,0,"div",10),t.qZA()),2&a&&(t.xp6(22),t.Q6J("ngForOf",t.xi3(23,2,i.reviews,t.WLB(5,R,i.count,i.page))),t.xp6(2),t.Q6J("ngIf",i.reviews.length>0))},directives:[n.a8,g.xw,g.Wh,o.d,e.sg,e.O5,v.Hw,A.gM,Z.A,T.lW,g.yH,m.LS],pipes:[m._s,w.H,e.uU],styles:[""]}),r})(),pathMatch:"full"}];let U=(()=>{class r{}return r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[e.ez,_.Bz.forChild(C),d.m,m.JX]]}),r})()},3145:(x,h,s)=>{s.d(h,{A:()=>f});var e=s(3668),_=s(515),d=s(6019),m=s(9112);function p(n,g){if(1&n){const o=e.EpF();e.TgZ(0,"mat-icon",4),e.NdJ("click",function(){const Z=e.CHM(o).index;return e.oxw().rate(Z)}),e._uU(1),e.qZA()}if(2&n){const o=g.$implicit;e.xp6(1),e.Oqu(o)}}function t(n,g){if(1&n&&(e.TgZ(0,"p",5),e._uU(1),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.hij("",o.ratingsCount," ratings")}}let f=(()=>{class n{constructor(){this.showText=!0}ngDoCheck(){this.ratingsCount&&this.ratingsValue&&!this.avg&&this.calculateAvgValue()}rate(o){}calculateAvgValue(){switch(this.avg=this.ratingsValue/this.ratingsCount,!0){case this.avg>0&&this.avg<20:this.stars=["star_half","star_border","star_border","star_border","star_border"];break;case 20==this.avg:this.stars=["star","star_border","star_border","star_border","star_border"];break;case this.avg>20&&this.avg<40:this.stars=["star","star_half","star_border","star_border","star_border"];break;case 40==this.avg:this.stars=["star","star","star_border","star_border","star_border"];break;case this.avg>40&&this.avg<60:this.stars=["star","star","star_half","star_border","star_border"];break;case 60==this.avg:this.stars=["star","star","star","star_border","star_border"];break;case this.avg>60&&this.avg<80:this.stars=["star","star","star","star_half","star_border"];break;case 80==this.avg:this.stars=["star","star","star","star","star_border"];break;case this.avg>80&&this.avg<100:this.stars=["star","star","star","star","star_half"];break;case this.avg>=100:this.stars=["star","star","star","star","star"];break;default:this.stars=["star_border","star_border","star_border","star_border","star_border"]}}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-rating"]],inputs:{ratingsCount:"ratingsCount",ratingsValue:"ratingsValue",direction:"direction",showText:"showText"},decls:4,vars:4,consts:[[3,"fxLayout","fxLayoutAlign"],[1,"ratings"],["class","mat-icon-xs",3,"click",4,"ngFor","ngForOf"],["class","ratings-count text-muted",4,"ngIf"],[1,"mat-icon-xs",3,"click"],[1,"ratings-count","text-muted"]],template:function(o,v){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,p,2,1,"mat-icon",2),e.qZA(),e.YNc(3,t,2,1,"p",3),e.qZA()),2&o&&(e.Q6J("fxLayout",v.direction)("fxLayoutAlign","row"==v.direction?"start center":"center end"),e.xp6(2),e.Q6J("ngForOf",v.stars),e.xp6(1),e.Q6J("ngIf",v.showText))},directives:[_.xw,_.Wh,d.sg,d.O5,m.Hw],styles:[".ratings[_ngcontent-%COMP%]{color:#fbc02d}.ratings-count[_ngcontent-%COMP%]{margin-left:12px;font-weight:500}"]}),n})()},8583:(x,h,s)=>{s.d(h,{H:()=>_});var e=s(3668);let _=(()=>{class d{transform(p,t){return p.filter(f=>f.id==t)[0]}}return d.\u0275fac=function(p){return new(p||d)},d.\u0275pipe=e.Yjl({name:"filterById",type:d,pure:!0}),d})()}}]);